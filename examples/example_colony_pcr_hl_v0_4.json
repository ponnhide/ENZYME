{
  "schema_version": "0.4",
  "ir_kind": "hl",
  "metadata": {
    "title": "Example (abstract): colony picking to genotyping PCR",
    "version": "0.4-example",
    "source": {
      "type": "manual",
      "id": null,
      "uri": null,
      "retrieved_at": "2026-02-09"
    },
    "created_at": "2026-02-09"
  },
  "resources": {
    "materials": [
      {
        "id": "mat:pcr_mastermix",
        "name": "PCR master mix"
      },
      {
        "id": "mat:primers",
        "name": "primers set"
      }
    ],
    "containers": [
      {
        "id": "ct:plate_colonies",
        "name": "colonies_plate",
        "type": "plate_generic"
      },
      {
        "id": "ct:colony_tube",
        "name": "colony_tube",
        "type": "tube_generic"
      },
      {
        "id": "ct:pcr_tube",
        "name": "pcr_tube",
        "type": "tube_generic"
      }
    ],
    "equipment": [
      {
        "id": "eq:thermo1",
        "name": "thermocycler",
        "type": "thermocycler"
      },
      {
        "id": "eq:readout1",
        "name": "amplicon_readout_system",
        "type": "amplicon_readout_system"
      }
    ],
    "samples": [],
    "data": []
  },
  "protocol": {
    "detail_level": 0,
    "steps": [
      {
        "id": "p1",
        "op": "observe",
        "label": "observe plate to choose colony",
        "inputs": [
          {
            "kind": "container",
            "id": "ct:plate_colonies"
          }
        ],
        "outputs": [
          {
            "kind": "data",
            "id": "data:obs_plate"
          }
        ],
        "params": {
          "modality": "visual",
          "features": {
            "candidate_colonies": null
          }
        }
      },
      {
        "id": "p2",
        "op": "manipulate",
        "label": "pick one colony",
        "inputs": [
          {
            "kind": "container",
            "id": "ct:plate_colonies"
          }
        ],
        "outputs": [
          {
            "kind": "container",
            "id": "ct:colony_tube"
          }
        ],
        "params": {
          "action_kind": "pick_colony",
          "settings": {
            "pick_target": "one_of(data:obs_plate.candidate_colonies)"
          }
        }
      },
      {
        "id": "p3",
        "op": "transfer",
        "label": "add mastermix",
        "inputs": [
          {
            "kind": "material",
            "id": "mat:pcr_mastermix"
          }
        ],
        "outputs": [
          {
            "kind": "container",
            "id": "ct:pcr_tube"
          }
        ],
        "params": {
          "amount": {
            "symbol": "X_mm"
          },
          "transfer_kind": "pipette"
        }
      },
      {
        "id": "p4",
        "op": "transfer",
        "label": "add primers",
        "inputs": [
          {
            "kind": "material",
            "id": "mat:primers"
          }
        ],
        "outputs": [
          {
            "kind": "container",
            "id": "ct:pcr_tube"
          }
        ],
        "params": {
          "amount": {
            "symbol": "X_primers"
          },
          "transfer_kind": "pipette"
        }
      },
      {
        "id": "p5",
        "op": "transfer",
        "label": "add template from colony tube",
        "inputs": [
          {
            "kind": "container",
            "id": "ct:colony_tube"
          }
        ],
        "outputs": [
          {
            "kind": "container",
            "id": "ct:pcr_tube"
          }
        ],
        "params": {
          "amount": {
            "symbol": "X_template"
          },
          "transfer_kind": "pipette"
        }
      },
      {
        "id": "p6",
        "op": "manipulate",
        "label": "mix PCR reaction",
        "inputs": [
          {
            "kind": "container",
            "id": "ct:pcr_tube"
          }
        ],
        "params": {
          "action_kind": "mix",
          "settings": {}
        }
      },
      {
        "id": "p7",
        "op": "thermocycle",
        "label": "PCR (macro)",
        "inputs": [
          {
            "kind": "container",
            "id": "ct:pcr_tube"
          }
        ],
        "params": {
          "profile_name": "PCR_PROFILE",
          "device_ref": "eq:thermo1"
        }
      },
      {
        "id": "p8",
        "op": "measure",
        "label": "readout (macro)",
        "inputs": [
          {
            "kind": "container",
            "id": "ct:pcr_tube"
          }
        ],
        "params": {
          "device_kind": "amplicon_readout_system",
          "program_name": "READOUT_PROGRAM",
          "device_ref": "eq:readout1"
        }
      },
      {
        "id": "p9",
        "op": "observe",
        "label": "interpret readout",
        "inputs": [
          {
            "kind": "container",
            "id": "ct:pcr_tube"
          }
        ],
        "outputs": [
          {
            "kind": "data",
            "id": "data:obs_readout"
          }
        ],
        "params": {
          "modality": "instrument_readout",
          "features": {
            "pass_fail": null,
            "band_pattern": null
          }
        }
      },
      {
        "id": "p10",
        "op": "annotate",
        "label": "note result placeholder",
        "inputs": [
          {
            "kind": "data",
            "id": "data:obs_readout"
          }
        ],
        "params": {
          "note": "Decide next action based on data:obs_readout.pass_fail"
        }
      }
    ],
    "start_step_id": "p1",
    "edges": [
      {
        "from": "p1",
        "to": "p2"
      },
      {
        "from": "p2",
        "to": "p3"
      },
      {
        "from": "p3",
        "to": "p4"
      },
      {
        "from": "p4",
        "to": "p5"
      },
      {
        "from": "p5",
        "to": "p6"
      },
      {
        "from": "p6",
        "to": "p7"
      },
      {
        "from": "p7",
        "to": "p8"
      },
      {
        "from": "p8",
        "to": "p9"
      },
      {
        "from": "p9",
        "to": "p10"
      }
    ],
    "step_order": [
      "p1",
      "p2",
      "p3",
      "p4",
      "p5",
      "p6",
      "p7",
      "p8",
      "p9",
      "p10"
    ]
  }
}