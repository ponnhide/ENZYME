[2026-02-15T10:09:50.749913+00:00] stdout: Compiled Core-IR to 
results_smoke_retry_qwen_instruct_fp8_high/nat_protocols/s41596-019-0213-z/enzym
e/unit_001.core.json
[2026-02-15T10:09:51.745131+00:00] stderr: ╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /users/hideto/Project/ENZYME/src/enzyme/cli.py:65 in validate_cmd            │
│                                                                              │
│    62 ) -> None:                                                             │
│    63 │   core_ir = io.load_json(input_path)                                 │
│    64 │   registry = Registry.from_file(REGISTRY_PATH)                       │
│ ❱  65 │   validation = validate_core(core_ir, str(SCHEMA_CORE), registry)    │
│    66 │   io.write_json(output_path, validation)                             │
│    67 │   console.print(f"Validation results written to {output_path}")      │
│    68                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │     core_ir = {                                                          │ │
│ │               │   'ir_kind': 'core',                                     │ │
│ │               │   'metadata': {                                          │ │
│ │               │   │   'source': {                                        │ │
│ │               │   │   │   'id': 's41596-019-0213-z.pdf',                 │ │
│ │               │   │   │   'type': 'paper'                                │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'title': 'Generation of blood vessel organoids     │ │
│ │               from hPSCs'                                                │ │
│ │               │   },                                                     │ │
│ │               │   'protocol': {                                          │ │
│ │               │   │   'detail_level': 0,                                 │ │
│ │               │   │   'edges': [                                         │ │
│ │               │   │   │   {'from': 's1', 'to': 's2'},                    │ │
│ │               │   │   │   {'from': 's2', 'to': 's3'},                    │ │
│ │               │   │   │   {'from': 's3', 'to': 's4'},                    │ │
│ │               │   │   │   {'from': 's4', 'to': 's5'},                    │ │
│ │               │   │   │   {'from': 's5', 'to': 's6'},                    │ │
│ │               │   │   │   {'from': 's6', 'to': 's7'},                    │ │
│ │               │   │   │   {'from': 's7', 'to': 's8'},                    │ │
│ │               │   │   │   {'from': 's8', 'to': 's9'},                    │ │
│ │               │   │   │   {'from': 's9', 'to': 's10'},                   │ │
│ │               │   │   │   {'from': 's10', 'to': 's11'},                  │ │
│ │               │   │   │   ... +14                                        │ │
│ │               │   │   ],                                                 │ │
│ │               │   │   'start_step_id': 's1',                             │ │
│ │               │   │   'steps': [                                         │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's1',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'transfer',                          │ │
│ │               │   │   │   │   'outputs': [                               │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'amount': {                            │ │
│ │               │   │   │   │   │   │   'unit': 'mL',                      │ │
│ │               │   │   │   │   │   │   'value': 0.6                       │ │
│ │               │   │   │   │   │   },                                     │ │
│ │               │   │   │   │   │   'destination': '0.5 mM EDTA',          │ │
│ │               │   │   │   │   │   'source': 'E8 medium'                  │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's2',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'transfer',                          │ │
│ │               │   │   │   │   'outputs': [                               │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'amount': {                            │ │
│ │               │   │   │   │   │   │   'unit': 'mL',                      │ │
│ │               │   │   │   │   │   │   'value': 0.6                       │ │
│ │               │   │   │   │   │   },                                     │ │
│ │               │   │   │   │   │   'destination': 'Accutase',             │ │
│ │               │   │   │   │   │   'source': '0.5 mM EDTA'                │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's3',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'run_device',                        │ │
│ │               │   │   │   │   'outputs': [                               │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'device_kind': 'incubator',            │ │
│ │               │   │   │   │   │   'program': {                           │ │
│ │               │   │   │   │   │   │   'duration': '3–5 min',             │ │
│ │               │   │   │   │   │   │   'temperature': 37,                 │ │
│ │               │   │   │   │   │   │   'unit': '°C'                       │ │
│ │               │   │   │   │   │   }                                      │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's4',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'observe',                           │ │
│ │               │   │   │   │   'outputs': [],                             │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'features': ['cell rounding'],         │ │
│ │               │   │   │   │   │   'modality': 'microscope'               │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's5',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'manipulate',                        │ │
│ │               │   │   │   │   'outputs': [                               │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'action_kind': 'dislodge_cells',       │ │
│ │               │   │   │   │   │   'device_ref': 'e1',                    │ │
│ │               │   │   │   │   │   'repetitions': 2                       │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's6',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c1', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'transfer',                          │ │
│ │               │   │   │   │   'outputs': [                               │ │
│ │               │   │   │   │   │   {'id': 'c2', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'amount': {'unit': 'mL', 'value': 5},  │ │
│ │               │   │   │   │   │   'destination': 'aggregation medium',   │ │
│ │               │   │   │   │   │   'source': 'c1'                         │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's7',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c2', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'transfer',                          │ │
│ │               │   │   │   │   'outputs': [                               │ │
│ │               │   │   │   │   │   {'id': 'c4', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'amount': {                            │ │
│ │               │   │   │   │   │   │   'unit': 'μL',                      │ │
│ │               │   │   │   │   │   │   'value': 10                        │ │
│ │               │   │   │   │   │   },                                     │ │
│ │               │   │   │   │   │   'destination': '0.1% Trypan blue       │ │
│ │               solution',                                                 │ │
│ │               │   │   │   │   │   'source': 'c2'                         │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's8',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c4', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'transfer',                          │ │
│ │               │   │   │   │   'outputs': [],                             │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'amount': {                            │ │
│ │               │   │   │   │   │   │   'unit': 'μL',                      │ │
│ │               │   │   │   │   │   │   'value': 10                        │ │
│ │               │   │   │   │   │   },                                     │ │
│ │               │   │   │   │   │   'destination': 'counting chamber       │ │
│ │               slide',                                                    │ │
│ │               │   │   │   │   │   'source': 'c4'                         │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {},                         │ │
│ │               │   │   │   │   'id': 's9',                                │ │
│ │               │   │   │   │   'inputs': [                                │ │
│ │               │   │   │   │   │   {'id': 'c4', 'kind': 'container'}      │ │
│ │               │   │   │   │   ],                                         │ │
│ │               │   │   │   │   'op': 'observe',                           │ │
│ │               │   │   │   │   'outputs': [],                             │ │
│ │               │   │   │   │   'params': {                                │ │
│ │               │   │   │   │   │   'features': ['viable cell count'],     │ │
│ │               │   │   │   │   │   'modality': 'instrument_readout'       │ │
│ │               │   │   │   │   }                                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'annotations': {                           │ │
│ │               │   │   │   │   │   'note': 'Calculate the cell suspension │ │
│ │               volume needed for the experiment (2 × 10^5 cells p'+213    │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'id': 's10',                               │ │
│ │               │   │   │   │   'inputs': [],                              │ │
│ │               │   │   │   │   'op': 'annotate',                          │ │
│ │               │   │   │   │   'outputs': [],                             │ │
│ │               │   │   │   │   'params': {}                               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   ... +15                                        │ │
│ │               │   │   ]                                                  │ │
│ │               │   },                                                     │ │
│ │               │   'resources': {                                         │ │
│ │               │   │   'containers': [                                    │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'c1',                                │ │
│ │               │   │   │   │   'label': 'tissue culture plate',           │ │
│ │               │   │   │   │   'material': 'plastic',                     │ │
│ │               │   │   │   │   'type': '6-well plate'                     │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'c2',                                │ │
│ │               │   │   │   │   'material': 'polypropylene',               │ │
│ │               │   │   │   │   'type': '15-mL Falcon tube'                │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'c3',                                │ │
│ │               │   │   │   │   'material': 'plastic',                     │ │
│ │               │   │   │   │   'type': '6-well low-attachment plate'      │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'c4',                                │ │
│ │               │   │   │   │   'material': 'glass',                       │ │
│ │               │   │   │   │   'type': 'counting chamber slide'           │ │
│ │               │   │   │   }                                              │ │
│ │               │   │   ],                                                 │ │
│ │               │   │   'data': [],                                        │ │
│ │               │   │   'equipment': [                                     │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'device_kind': 'pipette',                  │ │
│ │               │   │   │   │   'id': 'e1',                                │ │
│ │               │   │   │   │   'type': 'P1000 pipette'                    │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'device_kind': 'pipette',                  │ │
│ │               │   │   │   │   'id': 'e2',                                │ │
│ │               │   │   │   │   'type': '5-mL serological pipette'         │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'device_kind': 'pipette',                  │ │
│ │               │   │   │   │   'id': 'e3',                                │ │
│ │               │   │   │   │   'type': '10-mL serological pipette'        │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'device_kind': 'centrifuge',               │ │
│ │               │   │   │   │   'id': 'e4',                                │ │
│ │               │   │   │   │   'type': 'centrifuge'                       │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'device_kind': 'incubator',                │ │
│ │               │   │   │   │   'id': 'e5',                                │ │
│ │               │   │   │   │   'type': 'incubator'                        │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'device_kind': 'microscope',               │ │
│ │               │   │   │   │   'id': 'e6',                                │ │
│ │               │   │   │   │   'type': 'tissue culture microscope'        │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'device_kind': 'cell_counter',             │ │
│ │               │   │   │   │   'id': 'e7',                                │ │
│ │               │   │   │   │   'type': 'automated cell counter'           │ │
│ │               │   │   │   }                                              │ │
│ │               │   │   ],                                                 │ │
│ │               │   │   'materials': [                                     │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'm1',                                │ │
│ │               │   │   │   │   'name': 'E8 medium',                       │ │
│ │               │   │   │   │   'type': 'cell culture medium'              │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'm2',                                │ │
│ │               │   │   │   │   'name': '0.5 mM EDTA',                     │ │
│ │               │   │   │   │   'type': 'chemical'                         │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'm3',                                │ │
│ │               │   │   │   │   'name': 'Accutase',                        │ │
│ │               │   │   │   │   'type': 'enzymatic dissociation reagent'   │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'm4',                                │ │
│ │               │   │   │   │   'name': 'aggregation medium',              │ │
│ │               │   │   │   │   'type': 'cell culture medium'              │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'm5',                                │ │
│ │               │   │   │   │   'name': '0.1% Trypan blue solution',       │ │
│ │               │   │   │   │   'type': 'viability stain'                  │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'id': 'm6',                                │ │
│ │               │   │   │   │   'name': 'N2B27 medium',                    │ │
│ │               │   │   │   │   'type': 'cell culture medium'              │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'concentration': '50 μM',                  │ │
│ │               │   │   │   │   'id': 'm7',                                │ │
│ │               │   │   │   │   'name': 'Y-27632',                         │ │
│ │               │   │   │   │   'type': 'chemical'                         │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'concentration': '12 μM',                  │ │
│ │               │   │   │   │   'id': 'm8',                                │ │
│ │               │   │   │   │   'name': 'CHIR99021',                       │ │
│ │               │   │   │   │   'type': 'chemical'                         │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'concentration': '30 ng/mL',               │ │
│ │               │   │   │   │   'id': 'm9',                                │ │
│ │               │   │   │   │   'name': 'BMP-4',                           │ │
│ │               │   │   │   │   'type': 'protein'                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   {                                              │ │
│ │               │   │   │   │   'concentration': '100 ng/mL',              │ │
│ │               │   │   │   │   'id': 'm10',                               │ │
│ │               │   │   │   │   'name': 'VEGF-A',                          │ │
│ │               │   │   │   │   'type': 'protein'                          │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   ... +1                                         │ │
│ │               │   │   ],                                                 │ │
│ │               │   │   'samples': []                                      │ │
│ │               │   },                                                     │ │
│ │               │   'schema_version': '0.4'                                │ │
│ │               }                                                          │ │
│ │  input_path = PosixPath('results_smoke_retry_qwen_instruct_fp8_high/nat… │ │
│ │ output_path = PosixPath('results_smoke_retry_qwen_instruct_fp8_high/nat… │ │
│ │    registry = Registry(                                                  │ │
│ │               │   core_ops={                                             │ │
│ │               │   │   'annotate',                                        │ │
│ │               │   │   'allocate',                                        │ │
│ │               │   │   'manipulate',                                      │ │
│ │               │   │   'transfer',                                        │ │
│ │               │   │   'dispose',                                         │ │
│ │               │   │   'run_device',                                      │ │
│ │               │   │   'observe'                                          │ │
│ │               │   },                                                     │ │
│ │               │   action_kinds={                                         │ │
│ │               │   │   'mix': {                                           │ │
│ │               │   │   │   'required_settings_keys': [],                  │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'mix by human hand (generic)'   │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'mix_gently': {                                    │ │
│ │               │   │   │   'required_settings_keys': [],                  │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'gentle mixing by human hand'   │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'resuspend': {                                     │ │
│ │               │   │   │   'required_settings_keys': [],                  │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'resuspend pellet or cells'     │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'rinse': {                                         │ │
│ │               │   │   │   'required_settings_keys': [],                  │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'rinse/wash vessel manually'    │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'spread_on_plate': {                               │ │
│ │               │   │   │   'required_settings_keys': [],                  │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'spread sample on plate         │ │
│ │               manually'                                                  │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'pick_colony': {                                   │ │
│ │               │   │   │   'required_settings_keys': ['pick_target'],     │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'pick_target': {'type': 'string'}      │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['pick_target'],               │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'pick colony from plate         │ │
│ │               manually'                                                  │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'dislodge_cells': {                                │ │
│ │               │   │   │   'required_settings_keys': [],                  │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'dislodge/detach cells by       │ │
│ │               gentle tapping/pipetting etc (manual)'                     │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'label': {                                         │ │
│ │               │   │   │   'required_settings_keys': ['text'],            │ │
│ │               │   │   │   'settings_schema': {                           │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'text': {'type': 'string'}             │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['text'],                      │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'label container/sample'        │ │
│ │               │   │   }                                                  │ │
│ │               │   },                                                     │ │
│ │               │   device_kinds={                                         │ │
│ │               │   │   'incubator': {                                     │ │
│ │               │   │   │   'required_program_keys': ['program_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'program_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['program_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'incubator run'                 │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'thermocycler': {                                  │ │
│ │               │   │   │   'required_program_keys': ['profile_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'profile_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['profile_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'thermocycler run'              │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'centrifuge': {                                    │ │
│ │               │   │   │   'required_program_keys': ['program_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'program_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['program_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'centrifuge run'                │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'plate_reader': {                                  │ │
│ │               │   │   │   'required_program_keys': ['program_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'program_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['program_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'plate reader run'              │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'imager': {                                        │ │
│ │               │   │   │   'required_program_keys': ['program_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'program_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['program_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'imaging device run'            │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'cell_counter': {                                  │ │
│ │               │   │   │   'required_program_keys': ['program_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'program_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['program_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'cell counter run'              │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'dna_delivery_device': {                           │ │
│ │               │   │   │   'required_program_keys': ['program_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'program_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['program_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'DNA delivery device run        │ │
│ │               (abstract)'                                                │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'amplicon_readout_system': {                       │ │
│ │               │   │   │   'required_program_keys': ['program_name'],     │ │
│ │               │   │   │   'program_schema': {                            │ │
│ │               │   │   │   │   'type': 'object',                          │ │
│ │               │   │   │   │   'properties': {                            │ │
│ │               │   │   │   │   │   'program_name': {'type': 'string'}     │ │
│ │               │   │   │   │   },                                         │ │
│ │               │   │   │   │   'required': ['program_name'],              │ │
│ │               │   │   │   │   'additionalProperties': True               │ │
│ │               │   │   │   },                                             │ │
│ │               │   │   │   'description': 'amplicon readout system run    │ │
│ │               (abstract)'                                                │ │
│ │               │   │   }                                                  │ │
│ │               │   },                                                     │ │
│ │               │   modalities={                                           │ │
│ │               │   │   'instrument_readout',                              │ │
│ │               │   │   'microscope',                                      │ │
│ │               │   │   'visual'                                           │ │
│ │               │   },                                                     │ │
│ │               │   observation_features={                                 │ │
│ │               │   │   'confluency': {                                    │ │
│ │               │   │   │   'value_type': 'number',                        │ │
│ │               │   │   │   'constraints': {'min': 0, 'max': 100},         │ │
│ │               │   │   │   'description': 'confluency percentage'         │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'morphology': {                                    │ │
│ │               │   │   │   'value_type': 'string',                        │ │
│ │               │   │   │   'constraints': {},                             │ │
│ │               │   │   │   'description': 'cell morphology category'      │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'detached_enough': {                               │ │
│ │               │   │   │   'value_type': 'bool',                          │ │
│ │               │   │   │   'constraints': {},                             │ │
│ │               │   │   │   'description': 'cells detached sufficiently'   │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'colonies_present': {                              │ │
│ │               │   │   │   'value_type': 'bool',                          │ │
│ │               │   │   │   'constraints': {},                             │ │
│ │               │   │   │   'description': 'colonies present on plate'     │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'approx_count': {                                  │ │
│ │               │   │   │   'value_type': 'integer',                       │ │
│ │               │   │   │   'constraints': {'min': 0},                     │ │
│ │               │   │   │   'description': 'approximate count'             │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'pass_fail': {                                     │ │
│ │               │   │   │   'value_type': 'bool',                          │ │
│ │               │   │   │   'constraints': {},                             │ │
│ │               │   │   │   'description': 'pass/fail judgement'           │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'cell_count': {                                    │ │
│ │               │   │   │   'value_type': 'number',                        │ │
│ │               │   │   │   'constraints': {'min': 0},                     │ │
│ │               │   │   │   'description': 'cell count'                    │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'viability': {                                     │ │
│ │               │   │   │   'value_type': 'number',                        │ │
│ │               │   │   │   'constraints': {'min': 0, 'max': 1},           │ │
│ │               │   │   │   'description': 'viability fraction'            │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'band_pattern': {                                  │ │
│ │               │   │   │   'value_type': 'string',                        │ │
│ │               │   │   │   'constraints': {},                             │ │
│ │               │   │   │   'description': 'band pattern category or       │ │
│ │               description'                                               │ │
│ │               │   │   },                                                 │ │
│ │               │   │   'candidate_colonies': {                            │ │
│ │               │   │   │   'value_type': 'string',                        │ │
│ │               │   │   │   'constraints': {},                             │ │
│ │               │   │   │   'description': 'candidate colony locations     │ │
│ │               (encoded)'                                                 │ │
│ │               │   │   }                                                  │ │
│ │               │   }                                                      │ │
│ │               )                                                          │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /users/hideto/Project/ENZYME/src/enzyme/validator.py:366 in validate_core    │
│                                                                              │
│   363 │                                                                      │
│   364 │   issues.extend(_check_core_ops(protocol, registry))                 │
│   365 │   for step in protocol.get("steps", []):                             │
│ ❱ 366 │   │   issues.extend(_check_registry(step, detail_level, registry, cu │
│   367 │   issues.extend(_check_refs(data))                                   │
│   368 │   issues.extend(_check_graph(protocol))                              │
│   369 │   issues.extend(_check_units(data))                                  │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │   custom_registry = {                                                    │ │
│ │                     │   'action_kinds': {},                              │ │
│ │                     │   'device_kinds': {},                              │ │
│ │                     │   'modalities': set(),                             │ │
│ │                     │   'observation_features': {}                       │ │
│ │                     }                                                    │ │
│ │              data = {                                                    │ │
│ │                     │   'ir_kind': 'core',                               │ │
│ │                     │   'metadata': {                                    │ │
│ │                     │   │   'source': {                                  │ │
│ │                     │   │   │   'id': 's41596-019-0213-z.pdf',           │ │
│ │                     │   │   │   'type': 'paper'                          │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'title': 'Generation of blood vessel         │ │
│ │                     organoids from hPSCs'                                │ │
│ │                     │   },                                               │ │
│ │                     │   'protocol': {                                    │ │
│ │                     │   │   'detail_level': 0,                           │ │
│ │                     │   │   'edges': [                                   │ │
│ │                     │   │   │   {'from': 's1', 'to': 's2'},              │ │
│ │                     │   │   │   {'from': 's2', 'to': 's3'},              │ │
│ │                     │   │   │   {'from': 's3', 'to': 's4'},              │ │
│ │                     │   │   │   {'from': 's4', 'to': 's5'},              │ │
│ │                     │   │   │   {'from': 's5', 'to': 's6'},              │ │
│ │                     │   │   │   {'from': 's6', 'to': 's7'},              │ │
│ │                     │   │   │   {'from': 's7', 'to': 's8'},              │ │
│ │                     │   │   │   {'from': 's8', 'to': 's9'},              │ │
│ │                     │   │   │   {'from': 's9', 'to': 's10'},             │ │
│ │                     │   │   │   {'from': 's10', 'to': 's11'},            │ │
│ │                     │   │   │   ... +14                                  │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'start_step_id': 's1',                       │ │
│ │                     │   │   'steps': [                                   │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's1',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'mL',                │ │
│ │                     │   │   │   │   │   │   'value': 0.6                 │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': '0.5 mM EDTA',    │ │
│ │                     │   │   │   │   │   'source': 'E8 medium'            │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's2',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'mL',                │ │
│ │                     │   │   │   │   │   │   'value': 0.6                 │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': 'Accutase',       │ │
│ │                     │   │   │   │   │   'source': '0.5 mM EDTA'          │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's3',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'run_device',                  │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'device_kind': 'incubator',      │ │
│ │                     │   │   │   │   │   'program': {                     │ │
│ │                     │   │   │   │   │   │   'duration': '3–5 min',       │ │
│ │                     │   │   │   │   │   │   'temperature': 37,           │ │
│ │                     │   │   │   │   │   │   'unit': '°C'                 │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's4',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'observe',                     │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'features': ['cell rounding'],   │ │
│ │                     │   │   │   │   │   'modality': 'microscope'         │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's5',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'manipulate',                  │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'action_kind': 'dislodge_cells', │ │
│ │                     │   │   │   │   │   'device_ref': 'e1',              │ │
│ │                     │   │   │   │   │   'repetitions': 2                 │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's6',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c2',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'mL',                │ │
│ │                     │   │   │   │   │   │   'value': 5                   │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': 'aggregation      │ │
│ │                     medium',                                             │ │
│ │                     │   │   │   │   │   'source': 'c1'                   │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's7',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c2',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c4',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'μL',                │ │
│ │                     │   │   │   │   │   │   'value': 10                  │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': '0.1% Trypan blue │ │
│ │                     solution',                                           │ │
│ │                     │   │   │   │   │   'source': 'c2'                   │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's8',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c4',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'μL',                │ │
│ │                     │   │   │   │   │   │   'value': 10                  │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': 'counting chamber │ │
│ │                     slide',                                              │ │
│ │                     │   │   │   │   │   'source': 'c4'                   │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's9',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c4',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'observe',                     │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'features': [                    │ │
│ │                     │   │   │   │   │   │   'viable cell count'          │ │
│ │                     │   │   │   │   │   ],                               │ │
│ │                     │   │   │   │   │   'modality': 'instrument_readout' │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {                     │ │
│ │                     │   │   │   │   │   'note': 'Calculate the cell      │ │
│ │                     suspension volume needed for the experiment (2 ×     │ │
│ │                     10^5 cells p'+213                                    │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'id': 's10',                         │ │
│ │                     │   │   │   │   'inputs': [],                        │ │
│ │                     │   │   │   │   'op': 'annotate',                    │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {}                         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   ... +15                                  │ │
│ │                     │   │   ]                                            │ │
│ │                     │   },                                               │ │
│ │                     │   'resources': {                                   │ │
│ │                     │   │   'containers': [                              │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c1',                          │ │
│ │                     │   │   │   │   'label': 'tissue culture plate',     │ │
│ │                     │   │   │   │   'material': 'plastic',               │ │
│ │                     │   │   │   │   'type': '6-well plate'               │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c2',                          │ │
│ │                     │   │   │   │   'material': 'polypropylene',         │ │
│ │                     │   │   │   │   'type': '15-mL Falcon tube'          │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c3',                          │ │
│ │                     │   │   │   │   'material': 'plastic',               │ │
│ │                     │   │   │   │   'type': '6-well low-attachment       │ │
│ │                     plate'                                               │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c4',                          │ │
│ │                     │   │   │   │   'material': 'glass',                 │ │
│ │                     │   │   │   │   'type': 'counting chamber slide'     │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'data': [],                                  │ │
│ │                     │   │   'equipment': [                               │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'pipette',            │ │
│ │                     │   │   │   │   'id': 'e1',                          │ │
│ │                     │   │   │   │   'type': 'P1000 pipette'              │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'pipette',            │ │
│ │                     │   │   │   │   'id': 'e2',                          │ │
│ │                     │   │   │   │   'type': '5-mL serological pipette'   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'pipette',            │ │
│ │                     │   │   │   │   'id': 'e3',                          │ │
│ │                     │   │   │   │   'type': '10-mL serological pipette'  │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'centrifuge',         │ │
│ │                     │   │   │   │   'id': 'e4',                          │ │
│ │                     │   │   │   │   'type': 'centrifuge'                 │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'incubator',          │ │
│ │                     │   │   │   │   'id': 'e5',                          │ │
│ │                     │   │   │   │   'type': 'incubator'                  │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'microscope',         │ │
│ │                     │   │   │   │   'id': 'e6',                          │ │
│ │                     │   │   │   │   'type': 'tissue culture microscope'  │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'cell_counter',       │ │
│ │                     │   │   │   │   'id': 'e7',                          │ │
│ │                     │   │   │   │   'type': 'automated cell counter'     │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'materials': [                               │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm1',                          │ │
│ │                     │   │   │   │   'name': 'E8 medium',                 │ │
│ │                     │   │   │   │   'type': 'cell culture medium'        │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm2',                          │ │
│ │                     │   │   │   │   'name': '0.5 mM EDTA',               │ │
│ │                     │   │   │   │   'type': 'chemical'                   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm3',                          │ │
│ │                     │   │   │   │   'name': 'Accutase',                  │ │
│ │                     │   │   │   │   'type': 'enzymatic dissociation      │ │
│ │                     reagent'                                             │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm4',                          │ │
│ │                     │   │   │   │   'name': 'aggregation medium',        │ │
│ │                     │   │   │   │   'type': 'cell culture medium'        │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm5',                          │ │
│ │                     │   │   │   │   'name': '0.1% Trypan blue solution', │ │
│ │                     │   │   │   │   'type': 'viability stain'            │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm6',                          │ │
│ │                     │   │   │   │   'name': 'N2B27 medium',              │ │
│ │                     │   │   │   │   'type': 'cell culture medium'        │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '50 μM',            │ │
│ │                     │   │   │   │   'id': 'm7',                          │ │
│ │                     │   │   │   │   'name': 'Y-27632',                   │ │
│ │                     │   │   │   │   'type': 'chemical'                   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '12 μM',            │ │
│ │                     │   │   │   │   'id': 'm8',                          │ │
│ │                     │   │   │   │   'name': 'CHIR99021',                 │ │
│ │                     │   │   │   │   'type': 'chemical'                   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '30 ng/mL',         │ │
│ │                     │   │   │   │   'id': 'm9',                          │ │
│ │                     │   │   │   │   'name': 'BMP-4',                     │ │
│ │                     │   │   │   │   'type': 'protein'                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '100 ng/mL',        │ │
│ │                     │   │   │   │   'id': 'm10',                         │ │
│ │                     │   │   │   │   'name': 'VEGF-A',                    │ │
│ │                     │   │   │   │   'type': 'protein'                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   ... +1                                   │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'samples': []                                │ │
│ │                     │   },                                               │ │
│ │                     │   'schema_version': '0.4'                          │ │
│ │                     }                                                    │ │
│ │      detail_level = 0                                                    │ │
│ │            issues = [                                                    │ │
│ │                     │   Issue(                                           │ │
│ │                     │   │   code='MISSING_REQUIRED_PROGRAM_KEY',         │ │
│ │                     │   │   severity='error',                            │ │
│ │                     │   │   path='/protocol/steps/s3/params/program',    │ │
│ │                     │   │   message="Missing required program key        │ │
│ │                     'program_name' for device_kind 'incubator'.",        │ │
│ │                     │   │   suggested_fix='Add required program keys.'   │ │
│ │                     │   )                                                │ │
│ │                     ]                                                    │ │
│ │          protocol = {                                                    │ │
│ │                     │   'detail_level': 0,                               │ │
│ │                     │   'edges': [                                       │ │
│ │                     │   │   {'from': 's1', 'to': 's2'},                  │ │
│ │                     │   │   {'from': 's2', 'to': 's3'},                  │ │
│ │                     │   │   {'from': 's3', 'to': 's4'},                  │ │
│ │                     │   │   {'from': 's4', 'to': 's5'},                  │ │
│ │                     │   │   {'from': 's5', 'to': 's6'},                  │ │
│ │                     │   │   {'from': 's6', 'to': 's7'},                  │ │
│ │                     │   │   {'from': 's7', 'to': 's8'},                  │ │
│ │                     │   │   {'from': 's8', 'to': 's9'},                  │ │
│ │                     │   │   {'from': 's9', 'to': 's10'},                 │ │
│ │                     │   │   {'from': 's10', 'to': 's11'},                │ │
│ │                     │   │   ... +14                                      │ │
│ │                     │   ],                                               │ │
│ │                     │   'start_step_id': 's1',                           │ │
│ │                     │   'steps': [                                       │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's1',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'transfer',                        │ │
│ │                     │   │   │   'outputs': [                             │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'amount': {                          │ │
│ │                     │   │   │   │   │   'unit': 'mL',                    │ │
│ │                     │   │   │   │   │   'value': 0.6                     │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'destination': '0.5 mM EDTA',        │ │
│ │                     │   │   │   │   'source': 'E8 medium'                │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's2',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'transfer',                        │ │
│ │                     │   │   │   'outputs': [                             │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'amount': {                          │ │
│ │                     │   │   │   │   │   'unit': 'mL',                    │ │
│ │                     │   │   │   │   │   'value': 0.6                     │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'destination': 'Accutase',           │ │
│ │                     │   │   │   │   'source': '0.5 mM EDTA'              │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's3',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'run_device',                      │ │
│ │                     │   │   │   'outputs': [                             │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'device_kind': 'incubator',          │ │
│ │                     │   │   │   │   'program': {                         │ │
│ │                     │   │   │   │   │   'duration': '3–5 min',           │ │
│ │                     │   │   │   │   │   'temperature': 37,               │ │
│ │                     │   │   │   │   │   'unit': '°C'                     │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's4',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'observe',                         │ │
│ │                     │   │   │   'outputs': [],                           │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'features': ['cell rounding'],       │ │
│ │                     │   │   │   │   'modality': 'microscope'             │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's5',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'manipulate',                      │ │
│ │                     │   │   │   'outputs': [                             │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'action_kind': 'dislodge_cells',     │ │
│ │                     │   │   │   │   'device_ref': 'e1',                  │ │
│ │                     │   │   │   │   'repetitions': 2                     │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's6',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c1', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'transfer',                        │ │
│ │                     │   │   │   'outputs': [                             │ │
│ │                     │   │   │   │   {'id': 'c2', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'amount': {                          │ │
│ │                     │   │   │   │   │   'unit': 'mL',                    │ │
│ │                     │   │   │   │   │   'value': 5                       │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'destination': 'aggregation medium', │ │
│ │                     │   │   │   │   'source': 'c1'                       │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's7',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c2', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'transfer',                        │ │
│ │                     │   │   │   'outputs': [                             │ │
│ │                     │   │   │   │   {'id': 'c4', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'amount': {                          │ │
│ │                     │   │   │   │   │   'unit': 'μL',                    │ │
│ │                     │   │   │   │   │   'value': 10                      │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'destination': '0.1% Trypan blue     │ │
│ │                     solution',                                           │ │
│ │                     │   │   │   │   'source': 'c2'                       │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's8',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c4', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'transfer',                        │ │
│ │                     │   │   │   'outputs': [],                           │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'amount': {                          │ │
│ │                     │   │   │   │   │   'unit': 'μL',                    │ │
│ │                     │   │   │   │   │   'value': 10                      │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'destination': 'counting chamber     │ │
│ │                     slide',                                              │ │
│ │                     │   │   │   │   'source': 'c4'                       │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {},                       │ │
│ │                     │   │   │   'id': 's9',                              │ │
│ │                     │   │   │   'inputs': [                              │ │
│ │                     │   │   │   │   {'id': 'c4', 'kind': 'container'}    │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'op': 'observe',                         │ │
│ │                     │   │   │   'outputs': [],                           │ │
│ │                     │   │   │   'params': {                              │ │
│ │                     │   │   │   │   'features': ['viable cell count'],   │ │
│ │                     │   │   │   │   'modality': 'instrument_readout'     │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   {                                            │ │
│ │                     │   │   │   'annotations': {                         │ │
│ │                     │   │   │   │   'note': 'Calculate the cell          │ │
│ │                     suspension volume needed for the experiment (2 ×     │ │
│ │                     10^5 cells p'+213                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'id': 's10',                             │ │
│ │                     │   │   │   'inputs': [],                            │ │
│ │                     │   │   │   'op': 'annotate',                        │ │
│ │                     │   │   │   'outputs': [],                           │ │
│ │                     │   │   │   'params': {}                             │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   ... +15                                      │ │
│ │                     │   ]                                                │ │
│ │                     }                                                    │ │
│ │          registry = Registry(                                            │ │
│ │                     │   core_ops={                                       │ │
│ │                     │   │   'annotate',                                  │ │
│ │                     │   │   'allocate',                                  │ │
│ │                     │   │   'manipulate',                                │ │
│ │                     │   │   'transfer',                                  │ │
│ │                     │   │   'dispose',                                   │ │
│ │                     │   │   'run_device',                                │ │
│ │                     │   │   'observe'                                    │ │
│ │                     │   },                                               │ │
│ │                     │   action_kinds={                                   │ │
│ │                     │   │   'mix': {                                     │ │
│ │                     │   │   │   'required_settings_keys': [],            │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'mix by human hand        │ │
│ │                     (generic)'                                           │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'mix_gently': {                              │ │
│ │                     │   │   │   'required_settings_keys': [],            │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'gentle mixing by human   │ │
│ │                     hand'                                                │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'resuspend': {                               │ │
│ │                     │   │   │   'required_settings_keys': [],            │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'resuspend pellet or      │ │
│ │                     cells'                                               │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'rinse': {                                   │ │
│ │                     │   │   │   'required_settings_keys': [],            │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'rinse/wash vessel        │ │
│ │                     manually'                                            │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'spread_on_plate': {                         │ │
│ │                     │   │   │   'required_settings_keys': [],            │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'spread sample on plate   │ │
│ │                     manually'                                            │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'pick_colony': {                             │ │
│ │                     │   │   │   'required_settings_keys': [              │ │
│ │                     │   │   │   │   'pick_target'                        │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'pick_target': {                 │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['pick_target'],         │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'pick colony from plate   │ │
│ │                     manually'                                            │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'dislodge_cells': {                          │ │
│ │                     │   │   │   'required_settings_keys': [],            │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'dislodge/detach cells by │ │
│ │                     gentle tapping/pipetting etc (manual)'               │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'label': {                                   │ │
│ │                     │   │   │   'required_settings_keys': ['text'],      │ │
│ │                     │   │   │   'settings_schema': {                     │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'text': {'type': 'string'}       │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['text'],                │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'label container/sample'  │ │
│ │                     │   │   }                                            │ │
│ │                     │   },                                               │ │
│ │                     │   device_kinds={                                   │ │
│ │                     │   │   'incubator': {                               │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'program_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'program_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['program_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'incubator run'           │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'thermocycler': {                            │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'profile_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'profile_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['profile_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'thermocycler run'        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'centrifuge': {                              │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'program_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'program_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['program_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'centrifuge run'          │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'plate_reader': {                            │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'program_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'program_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['program_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'plate reader run'        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'imager': {                                  │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'program_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'program_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['program_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'imaging device run'      │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'cell_counter': {                            │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'program_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'program_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['program_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'cell counter run'        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'dna_delivery_device': {                     │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'program_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'program_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['program_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'DNA delivery device run  │ │
│ │                     (abstract)'                                          │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'amplicon_readout_system': {                 │ │
│ │                     │   │   │   'required_program_keys': [               │ │
│ │                     │   │   │   │   'program_name'                       │ │
│ │                     │   │   │   ],                                       │ │
│ │                     │   │   │   'program_schema': {                      │ │
│ │                     │   │   │   │   'type': 'object',                    │ │
│ │                     │   │   │   │   'properties': {                      │ │
│ │                     │   │   │   │   │   'program_name': {                │ │
│ │                     │   │   │   │   │   │   'type': 'string'             │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'required': ['program_name'],        │ │
│ │                     │   │   │   │   'additionalProperties': True         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   'description': 'amplicon readout system  │ │
│ │                     run (abstract)'                                      │ │
│ │                     │   │   }                                            │ │
│ │                     │   },                                               │ │
│ │                     │   modalities={                                     │ │
│ │                     │   │   'instrument_readout',                        │ │
│ │                     │   │   'microscope',                                │ │
│ │                     │   │   'visual'                                     │ │
│ │                     │   },                                               │ │
│ │                     │   observation_features={                           │ │
│ │                     │   │   'confluency': {                              │ │
│ │                     │   │   │   'value_type': 'number',                  │ │
│ │                     │   │   │   'constraints': {'min': 0, 'max': 100},   │ │
│ │                     │   │   │   'description': 'confluency percentage'   │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'morphology': {                              │ │
│ │                     │   │   │   'value_type': 'string',                  │ │
│ │                     │   │   │   'constraints': {},                       │ │
│ │                     │   │   │   'description': 'cell morphology          │ │
│ │                     category'                                            │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'detached_enough': {                         │ │
│ │                     │   │   │   'value_type': 'bool',                    │ │
│ │                     │   │   │   'constraints': {},                       │ │
│ │                     │   │   │   'description': 'cells detached           │ │
│ │                     sufficiently'                                        │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'colonies_present': {                        │ │
│ │                     │   │   │   'value_type': 'bool',                    │ │
│ │                     │   │   │   'constraints': {},                       │ │
│ │                     │   │   │   'description': 'colonies present on      │ │
│ │                     plate'                                               │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'approx_count': {                            │ │
│ │                     │   │   │   'value_type': 'integer',                 │ │
│ │                     │   │   │   'constraints': {'min': 0},               │ │
│ │                     │   │   │   'description': 'approximate count'       │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'pass_fail': {                               │ │
│ │                     │   │   │   'value_type': 'bool',                    │ │
│ │                     │   │   │   'constraints': {},                       │ │
│ │                     │   │   │   'description': 'pass/fail judgement'     │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'cell_count': {                              │ │
│ │                     │   │   │   'value_type': 'number',                  │ │
│ │                     │   │   │   'constraints': {'min': 0},               │ │
│ │                     │   │   │   'description': 'cell count'              │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'viability': {                               │ │
│ │                     │   │   │   'value_type': 'number',                  │ │
│ │                     │   │   │   'constraints': {'min': 0, 'max': 1},     │ │
│ │                     │   │   │   'description': 'viability fraction'      │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'band_pattern': {                            │ │
│ │                     │   │   │   'value_type': 'string',                  │ │
│ │                     │   │   │   'constraints': {},                       │ │
│ │                     │   │   │   'description': 'band pattern category or │ │
│ │                     description'                                         │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'candidate_colonies': {                      │ │
│ │                     │   │   │   'value_type': 'string',                  │ │
│ │                     │   │   │   'constraints': {},                       │ │
│ │                     │   │   │   'description': 'candidate colony         │ │
│ │                     locations (encoded)'                                 │ │
│ │                     │   │   }                                            │ │
│ │                     │   }                                                │ │
│ │                     )                                                    │ │
│ │       schema_path = '/users/hideto/Project/ENZYME/enzyme_ir/schema_core… │ │
│ │ schema_ready_data = {                                                    │ │
│ │                     │   'ir_kind': 'core',                               │ │
│ │                     │   'metadata': {                                    │ │
│ │                     │   │   'source': {                                  │ │
│ │                     │   │   │   'id': 's41596-019-0213-z.pdf',           │ │
│ │                     │   │   │   'type': 'paper'                          │ │
│ │                     │   │   },                                           │ │
│ │                     │   │   'title': 'Generation of blood vessel         │ │
│ │                     organoids from hPSCs'                                │ │
│ │                     │   },                                               │ │
│ │                     │   'protocol': {                                    │ │
│ │                     │   │   'detail_level': 0,                           │ │
│ │                     │   │   'edges': [                                   │ │
│ │                     │   │   │   {'from': 's1', 'to': 's2'},              │ │
│ │                     │   │   │   {'from': 's2', 'to': 's3'},              │ │
│ │                     │   │   │   {'from': 's3', 'to': 's4'},              │ │
│ │                     │   │   │   {'from': 's4', 'to': 's5'},              │ │
│ │                     │   │   │   {'from': 's5', 'to': 's6'},              │ │
│ │                     │   │   │   {'from': 's6', 'to': 's7'},              │ │
│ │                     │   │   │   {'from': 's7', 'to': 's8'},              │ │
│ │                     │   │   │   {'from': 's8', 'to': 's9'},              │ │
│ │                     │   │   │   {'from': 's9', 'to': 's10'},             │ │
│ │                     │   │   │   {'from': 's10', 'to': 's11'},            │ │
│ │                     │   │   │   ... +14                                  │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'start_step_id': 's1',                       │ │
│ │                     │   │   'steps': [                                   │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's1',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'mL',                │ │
│ │                     │   │   │   │   │   │   'value': 0.6                 │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': '0.5 mM EDTA',    │ │
│ │                     │   │   │   │   │   'source': 'E8 medium'            │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's2',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'mL',                │ │
│ │                     │   │   │   │   │   │   'value': 0.6                 │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': 'Accutase',       │ │
│ │                     │   │   │   │   │   'source': '0.5 mM EDTA'          │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's3',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'run_device',                  │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'device_kind': 'incubator',      │ │
│ │                     │   │   │   │   │   'program': {                     │ │
│ │                     │   │   │   │   │   │   'duration': '3–5 min',       │ │
│ │                     │   │   │   │   │   │   'temperature': 37,           │ │
│ │                     │   │   │   │   │   │   'unit': '°C'                 │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's4',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'observe',                     │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'features': ['cell rounding'],   │ │
│ │                     │   │   │   │   │   'modality': 'microscope'         │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's5',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'manipulate',                  │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'action_kind': 'dislodge_cells', │ │
│ │                     │   │   │   │   │   'device_ref': 'e1',              │ │
│ │                     │   │   │   │   │   'repetitions': 2                 │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's6',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c1',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c2',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'mL',                │ │
│ │                     │   │   │   │   │   │   'value': 5                   │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': 'aggregation      │ │
│ │                     medium',                                             │ │
│ │                     │   │   │   │   │   'source': 'c1'                   │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's7',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c2',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [                         │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c4',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'μL',                │ │
│ │                     │   │   │   │   │   │   'value': 10                  │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': '0.1% Trypan blue │ │
│ │                     solution',                                           │ │
│ │                     │   │   │   │   │   'source': 'c2'                   │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's8',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c4',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'transfer',                    │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'amount': {                      │ │
│ │                     │   │   │   │   │   │   'unit': 'μL',                │ │
│ │                     │   │   │   │   │   │   'value': 10                  │ │
│ │                     │   │   │   │   │   },                               │ │
│ │                     │   │   │   │   │   'destination': 'counting chamber │ │
│ │                     slide',                                              │ │
│ │                     │   │   │   │   │   'source': 'c4'                   │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {},                   │ │
│ │                     │   │   │   │   'id': 's9',                          │ │
│ │                     │   │   │   │   'inputs': [                          │ │
│ │                     │   │   │   │   │   {                                │ │
│ │                     │   │   │   │   │   │   'id': 'c4',                  │ │
│ │                     │   │   │   │   │   │   'kind': 'container'          │ │
│ │                     │   │   │   │   │   }                                │ │
│ │                     │   │   │   │   ],                                   │ │
│ │                     │   │   │   │   'op': 'observe',                     │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {                          │ │
│ │                     │   │   │   │   │   'features': [                    │ │
│ │                     │   │   │   │   │   │   'viable cell count'          │ │
│ │                     │   │   │   │   │   ],                               │ │
│ │                     │   │   │   │   │   'modality': 'instrument_readout' │ │
│ │                     │   │   │   │   }                                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'annotations': {                     │ │
│ │                     │   │   │   │   │   'note': 'Calculate the cell      │ │
│ │                     suspension volume needed for the experiment (2 ×     │ │
│ │                     10^5 cells p'+213                                    │ │
│ │                     │   │   │   │   },                                   │ │
│ │                     │   │   │   │   'id': 's10',                         │ │
│ │                     │   │   │   │   'inputs': [],                        │ │
│ │                     │   │   │   │   'op': 'annotate',                    │ │
│ │                     │   │   │   │   'outputs': [],                       │ │
│ │                     │   │   │   │   'params': {}                         │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   ... +15                                  │ │
│ │                     │   │   ]                                            │ │
│ │                     │   },                                               │ │
│ │                     │   'resources': {                                   │ │
│ │                     │   │   'containers': [                              │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c1',                          │ │
│ │                     │   │   │   │   'label': 'tissue culture plate',     │ │
│ │                     │   │   │   │   'material': 'plastic',               │ │
│ │                     │   │   │   │   'type': '6-well plate'               │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c2',                          │ │
│ │                     │   │   │   │   'material': 'polypropylene',         │ │
│ │                     │   │   │   │   'type': '15-mL Falcon tube'          │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c3',                          │ │
│ │                     │   │   │   │   'material': 'plastic',               │ │
│ │                     │   │   │   │   'type': '6-well low-attachment       │ │
│ │                     plate'                                               │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'c4',                          │ │
│ │                     │   │   │   │   'material': 'glass',                 │ │
│ │                     │   │   │   │   'type': 'counting chamber slide'     │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'data': [],                                  │ │
│ │                     │   │   'equipment': [                               │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'pipette',            │ │
│ │                     │   │   │   │   'id': 'e1',                          │ │
│ │                     │   │   │   │   'type': 'P1000 pipette'              │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'pipette',            │ │
│ │                     │   │   │   │   'id': 'e2',                          │ │
│ │                     │   │   │   │   'type': '5-mL serological pipette'   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'pipette',            │ │
│ │                     │   │   │   │   'id': 'e3',                          │ │
│ │                     │   │   │   │   'type': '10-mL serological pipette'  │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'centrifuge',         │ │
│ │                     │   │   │   │   'id': 'e4',                          │ │
│ │                     │   │   │   │   'type': 'centrifuge'                 │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'incubator',          │ │
│ │                     │   │   │   │   'id': 'e5',                          │ │
│ │                     │   │   │   │   'type': 'incubator'                  │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'microscope',         │ │
│ │                     │   │   │   │   'id': 'e6',                          │ │
│ │                     │   │   │   │   'type': 'tissue culture microscope'  │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'device_kind': 'cell_counter',       │ │
│ │                     │   │   │   │   'id': 'e7',                          │ │
│ │                     │   │   │   │   'type': 'automated cell counter'     │ │
│ │                     │   │   │   }                                        │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'materials': [                               │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm1',                          │ │
│ │                     │   │   │   │   'name': 'E8 medium',                 │ │
│ │                     │   │   │   │   'type': 'cell culture medium'        │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm2',                          │ │
│ │                     │   │   │   │   'name': '0.5 mM EDTA',               │ │
│ │                     │   │   │   │   'type': 'chemical'                   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm3',                          │ │
│ │                     │   │   │   │   'name': 'Accutase',                  │ │
│ │                     │   │   │   │   'type': 'enzymatic dissociation      │ │
│ │                     reagent'                                             │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm4',                          │ │
│ │                     │   │   │   │   'name': 'aggregation medium',        │ │
│ │                     │   │   │   │   'type': 'cell culture medium'        │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm5',                          │ │
│ │                     │   │   │   │   'name': '0.1% Trypan blue solution', │ │
│ │                     │   │   │   │   'type': 'viability stain'            │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'id': 'm6',                          │ │
│ │                     │   │   │   │   'name': 'N2B27 medium',              │ │
│ │                     │   │   │   │   'type': 'cell culture medium'        │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '50 μM',            │ │
│ │                     │   │   │   │   'id': 'm7',                          │ │
│ │                     │   │   │   │   'name': 'Y-27632',                   │ │
│ │                     │   │   │   │   'type': 'chemical'                   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '12 μM',            │ │
│ │                     │   │   │   │   'id': 'm8',                          │ │
│ │                     │   │   │   │   'name': 'CHIR99021',                 │ │
│ │                     │   │   │   │   'type': 'chemical'                   │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '30 ng/mL',         │ │
│ │                     │   │   │   │   'id': 'm9',                          │ │
│ │                     │   │   │   │   'name': 'BMP-4',                     │ │
│ │                     │   │   │   │   'type': 'protein'                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   {                                        │ │
│ │                     │   │   │   │   'concentration': '100 ng/mL',        │ │
│ │                     │   │   │   │   'id': 'm10',                         │ │
│ │                     │   │   │   │   'name': 'VEGF-A',                    │ │
│ │                     │   │   │   │   'type': 'protein'                    │ │
│ │                     │   │   │   },                                       │ │
│ │                     │   │   │   ... +1                                   │ │
│ │                     │   │   ],                                           │ │
│ │                     │   │   'samples': []                                │ │
│ │                     │   },                                               │ │
│ │                     │   'schema_version': '0.4'                          │ │
│ │                     }                                                    │ │
│ │              step = {                                                    │ │
│ │                     │   'annotations': {},                               │ │
│ │                     │   'id': 's4',                                      │ │
│ │                     │   'inputs': [{'id': 'c1', 'kind': 'container'}],   │ │
│ │                     │   'op': 'observe',                                 │ │
│ │                     │   'outputs': [],                                   │ │
│ │                     │   'params': {                                      │ │
│ │                     │   │   'features': ['cell rounding'],               │ │
│ │                     │   │   'modality': 'microscope'                     │ │
│ │                     │   }                                                │ │
│ │                     }                                                    │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /users/hideto/Project/ENZYME/src/enzyme/validator.py:172 in _check_registry  │
│                                                                              │
│   169 │   │   ):                                                             │
│   170 │   │   │   issues.append(unknown_issue("UNKNOWN_MODALITY", f"/protoco │
│   171 │   │   features = step.get("params", {}).get("features", {})          │
│ ❱ 172 │   │   for feature_key in features.keys():                            │
│   173 │   │   │   if feature_key not in registry.observation_features and no │
│   174 │   │   │   │   custom, "observation_features", feature_key            │
│   175 │   │   │   ):                                                         │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │       custom = {                                                         │ │
│ │                │   'action_kinds': {},                                   │ │
│ │                │   'device_kinds': {},                                   │ │
│ │                │   'modalities': set(),                                  │ │
│ │                │   'observation_features': {}                            │ │
│ │                }                                                         │ │
│ │ detail_level = 0                                                         │ │
│ │     features = ['cell rounding']                                         │ │
│ │       issues = []                                                        │ │
│ │     modality = 'microscope'                                              │ │
│ │     registry = Registry(                                                 │ │
│ │                │   core_ops={                                            │ │
│ │                │   │   'annotate',                                       │ │
│ │                │   │   'allocate',                                       │ │
│ │                │   │   'manipulate',                                     │ │
│ │                │   │   'transfer',                                       │ │
│ │                │   │   'dispose',                                        │ │
│ │                │   │   'run_device',                                     │ │
│ │                │   │   'observe'                                         │ │
│ │                │   },                                                    │ │
│ │                │   action_kinds={                                        │ │
│ │                │   │   'mix': {                                          │ │
│ │                │   │   │   'required_settings_keys': [],                 │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'mix by human hand (generic)'  │ │
│ │                │   │   },                                                │ │
│ │                │   │   'mix_gently': {                                   │ │
│ │                │   │   │   'required_settings_keys': [],                 │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'gentle mixing by human hand'  │ │
│ │                │   │   },                                                │ │
│ │                │   │   'resuspend': {                                    │ │
│ │                │   │   │   'required_settings_keys': [],                 │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'resuspend pellet or cells'    │ │
│ │                │   │   },                                                │ │
│ │                │   │   'rinse': {                                        │ │
│ │                │   │   │   'required_settings_keys': [],                 │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'rinse/wash vessel manually'   │ │
│ │                │   │   },                                                │ │
│ │                │   │   'spread_on_plate': {                              │ │
│ │                │   │   │   'required_settings_keys': [],                 │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'spread sample on plate        │ │
│ │                manually'                                                 │ │
│ │                │   │   },                                                │ │
│ │                │   │   'pick_colony': {                                  │ │
│ │                │   │   │   'required_settings_keys': ['pick_target'],    │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'pick_target': {'type': 'string'}     │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['pick_target'],              │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'pick colony from plate        │ │
│ │                manually'                                                 │ │
│ │                │   │   },                                                │ │
│ │                │   │   'dislodge_cells': {                               │ │
│ │                │   │   │   'required_settings_keys': [],                 │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'dislodge/detach cells by      │ │
│ │                gentle tapping/pipetting etc (manual)'                    │ │
│ │                │   │   },                                                │ │
│ │                │   │   'label': {                                        │ │
│ │                │   │   │   'required_settings_keys': ['text'],           │ │
│ │                │   │   │   'settings_schema': {                          │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'text': {'type': 'string'}            │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['text'],                     │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'label container/sample'       │ │
│ │                │   │   }                                                 │ │
│ │                │   },                                                    │ │
│ │                │   device_kinds={                                        │ │
│ │                │   │   'incubator': {                                    │ │
│ │                │   │   │   'required_program_keys': ['program_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'program_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['program_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'incubator run'                │ │
│ │                │   │   },                                                │ │
│ │                │   │   'thermocycler': {                                 │ │
│ │                │   │   │   'required_program_keys': ['profile_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'profile_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['profile_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'thermocycler run'             │ │
│ │                │   │   },                                                │ │
│ │                │   │   'centrifuge': {                                   │ │
│ │                │   │   │   'required_program_keys': ['program_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'program_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['program_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'centrifuge run'               │ │
│ │                │   │   },                                                │ │
│ │                │   │   'plate_reader': {                                 │ │
│ │                │   │   │   'required_program_keys': ['program_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'program_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['program_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'plate reader run'             │ │
│ │                │   │   },                                                │ │
│ │                │   │   'imager': {                                       │ │
│ │                │   │   │   'required_program_keys': ['program_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'program_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['program_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'imaging device run'           │ │
│ │                │   │   },                                                │ │
│ │                │   │   'cell_counter': {                                 │ │
│ │                │   │   │   'required_program_keys': ['program_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'program_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['program_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'cell counter run'             │ │
│ │                │   │   },                                                │ │
│ │                │   │   'dna_delivery_device': {                          │ │
│ │                │   │   │   'required_program_keys': ['program_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'program_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['program_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'DNA delivery device run       │ │
│ │                (abstract)'                                               │ │
│ │                │   │   },                                                │ │
│ │                │   │   'amplicon_readout_system': {                      │ │
│ │                │   │   │   'required_program_keys': ['program_name'],    │ │
│ │                │   │   │   'program_schema': {                           │ │
│ │                │   │   │   │   'type': 'object',                         │ │
│ │                │   │   │   │   'properties': {                           │ │
│ │                │   │   │   │   │   'program_name': {'type': 'string'}    │ │
│ │                │   │   │   │   },                                        │ │
│ │                │   │   │   │   'required': ['program_name'],             │ │
│ │                │   │   │   │   'additionalProperties': True              │ │
│ │                │   │   │   },                                            │ │
│ │                │   │   │   'description': 'amplicon readout system run   │ │
│ │                (abstract)'                                               │ │
│ │                │   │   }                                                 │ │
│ │                │   },                                                    │ │
│ │                │   modalities={                                          │ │
│ │                │   │   'instrument_readout',                             │ │
│ │                │   │   'microscope',                                     │ │
│ │                │   │   'visual'                                          │ │
│ │                │   },                                                    │ │
│ │                │   observation_features={                                │ │
│ │                │   │   'confluency': {                                   │ │
│ │                │   │   │   'value_type': 'number',                       │ │
│ │                │   │   │   'constraints': {'min': 0, 'max': 100},        │ │
│ │                │   │   │   'description': 'confluency percentage'        │ │
│ │                │   │   },                                                │ │
│ │                │   │   'morphology': {                                   │ │
│ │                │   │   │   'value_type': 'string',                       │ │
│ │                │   │   │   'constraints': {},                            │ │
│ │                │   │   │   'description': 'cell morphology category'     │ │
│ │                │   │   },                                                │ │
│ │                │   │   'detached_enough': {                              │ │
│ │                │   │   │   'value_type': 'bool',                         │ │
│ │                │   │   │   'constraints': {},                            │ │
│ │                │   │   │   'description': 'cells detached sufficiently'  │ │
│ │                │   │   },                                                │ │
│ │                │   │   'colonies_present': {                             │ │
│ │                │   │   │   'value_type': 'bool',                         │ │
│ │                │   │   │   'constraints': {},                            │ │
│ │                │   │   │   'description': 'colonies present on plate'    │ │
│ │                │   │   },                                                │ │
│ │                │   │   'approx_count': {                                 │ │
│ │                │   │   │   'value_type': 'integer',                      │ │
│ │                │   │   │   'constraints': {'min': 0},                    │ │
│ │                │   │   │   'description': 'approximate count'            │ │
│ │                │   │   },                                                │ │
│ │                │   │   'pass_fail': {                                    │ │
│ │                │   │   │   'value_type': 'bool',                         │ │
│ │                │   │   │   'constraints': {},                            │ │
│ │                │   │   │   'description': 'pass/fail judgement'          │ │
│ │                │   │   },                                                │ │
│ │                │   │   'cell_count': {                                   │ │
│ │                │   │   │   'value_type': 'number',                       │ │
│ │                │   │   │   'constraints': {'min': 0},                    │ │
│ │                │   │   │   'description': 'cell count'                   │ │
│ │                │   │   },                                                │ │
│ │                │   │   'viability': {                                    │ │
│ │                │   │   │   'value_type': 'number',                       │ │
│ │                │   │   │   'constraints': {'min': 0, 'max': 1},          │ │
│ │                │   │   │   'description': 'viability fraction'           │ │
│ │                │   │   },                                                │ │
│ │                │   │   'band_pattern': {                                 │ │
│ │                │   │   │   'value_type': 'string',                       │ │
│ │                │   │   │   'constraints': {},                            │ │
│ │                │   │   │   'description': 'band pattern category or      │ │
│ │                description'                                              │ │
│ │                │   │   },                                                │ │
│ │                │   │   'candidate_colonies': {                           │ │
│ │                │   │   │   'value_type': 'string',                       │ │
│ │                │   │   │   'constraints': {},                            │ │
│ │                │   │   │   'description': 'candidate colony locations    │ │
│ │                (encoded)'                                                │ │
│ │                │   │   }                                                 │ │
│ │                │   }                                                     │ │
│ │                )                                                         │ │
│ │         step = {                                                         │ │
│ │                │   'annotations': {},                                    │ │
│ │                │   'id': 's4',                                           │ │
│ │                │   'inputs': [{'id': 'c1', 'kind': 'container'}],        │ │
│ │                │   'op': 'observe',                                      │ │
│ │                │   'outputs': [],                                        │ │
│ │                │   'params': {                                           │ │
│ │                │   │   'features': ['cell rounding'],                    │ │
│ │                │   │   'modality': 'microscope'                          │ │
│ │                │   }                                                     │ │
│ │                }                                                         │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
AttributeError: 'list' object has no attribute 'keys'
