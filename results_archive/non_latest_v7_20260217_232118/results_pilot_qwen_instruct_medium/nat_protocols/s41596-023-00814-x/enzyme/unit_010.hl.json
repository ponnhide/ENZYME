{
  "schema_version": "0.4",
  "ir_kind": "hl",
  "metadata": {
    "title": "Prepare OVB organoids for bulk RNA-seq",
    "source": {
      "type": "paper",
      "id": "s41596-023-00814-x.pdf"
    }
  },
  "resources": {
    "materials": [],
    "containers": [],
    "equipment": [],
    "samples": [
      {
        "id": "s1_organoids",
        "name": "s1_organoids"
      },
      {
        "id": "s2_organoids",
        "name": "s2_organoids"
      },
      {
        "id": "s3_organoids",
        "name": "s3_organoids"
      },
      {
        "id": "s4_organoids",
        "name": "s4_organoids"
      },
      {
        "id": "s5_organoids",
        "name": "s5_organoids"
      },
      {
        "id": "s6_organoids",
        "name": "s6_organoids"
      },
      {
        "id": "s7_organoids",
        "name": "s7_organoids"
      },
      {
        "id": "s8_organoids",
        "name": "s8_organoids"
      },
      {
        "id": "s9_organoids",
        "name": "s9_organoids"
      },
      {
        "id": "s10_organoids",
        "name": "s10_organoids"
      },
      {
        "id": "s11_organoids",
        "name": "s11_organoids"
      },
      {
        "id": "s12_organoids",
        "name": "s12_organoids"
      },
      {
        "id": "s13_organoids",
        "name": "s13_organoids"
      },
      {
        "id": "s14_organoids",
        "name": "s14_organoids"
      },
      {
        "id": "s15_rna",
        "name": "s15_rna"
      },
      {
        "id": "s16_cdna",
        "name": "s16_cdna"
      }
    ],
    "data": []
  },
  "protocol": {
    "steps": [
      {
        "id": "s1",
        "op": "transfer",
        "inputs": [],
        "outputs": [
          {
            "kind": "sample",
            "id": "s1_organoids"
          }
        ],
        "params": {
          "amount": {
            "value": "up to 3",
            "unit": "organoids"
          },
          "source": "OVB organoid culture",
          "destination": "sterile RNase-free 1.5 ml tube",
          "tool": "cut 1,000 µl micropipette tip"
        },
        "annotations": {}
      },
      {
        "id": "s2",
        "op": "transfer",
        "inputs": [
          {
            "kind": "sample",
            "id": "s1_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s2_organoids"
          }
        ],
        "params": {
          "amount": {
            "value": "as much as possible",
            "unit": "µl"
          },
          "source": "sterile RNase-free 1.5 ml tube",
          "destination": "sterile RNase-free 1.5 ml tube",
          "tool": "200 µl micropipette tip"
        },
        "annotations": {
          "note": "carefully remove carried-over medium without disturbing organoids"
        }
      },
      {
        "id": "s3",
        "op": "transfer",
        "inputs": [
          {
            "kind": "sample",
            "id": "s2_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s3_organoids"
          }
        ],
        "params": {
          "amount": {
            "value": 1,
            "unit": "x volume"
          },
          "source": "cold PBS",
          "destination": "sterile RNase-free 1.5 ml tube",
          "tool": "micropipette"
        },
        "annotations": {}
      },
      {
        "id": "s4",
        "op": "transfer",
        "inputs": [
          {
            "kind": "sample",
            "id": "s3_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s4_organoids"
          }
        ],
        "params": {
          "amount": {
            "value": 300,
            "unit": "µl"
          },
          "source": "Tri-Reagent",
          "destination": "sterile RNase-free 1.5 ml tube",
          "tool": "micropipette"
        },
        "annotations": {}
      },
      {
        "id": "s5",
        "op": "manipulate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s4_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s5_organoids"
          }
        ],
        "params": {
          "action_kind": "mix",
          "repetitions": 3,
          "duration": "5 s",
          "tool": "vortex mixer"
        },
        "annotations": {}
      },
      {
        "id": "s6",
        "op": "annotate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s5_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s6_organoids"
          }
        ],
        "params": {
          "text": "unmapped action_kind in source: incubate"
        },
        "annotations": {}
      },
      {
        "id": "s7",
        "op": "manipulate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s6_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s7_organoids"
          }
        ],
        "params": {
          "action_kind": "mix",
          "repetitions": 3,
          "duration": "5 s",
          "tool": "vortex mixer"
        },
        "annotations": {}
      },
      {
        "id": "s8",
        "op": "annotate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s7_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s8_organoids"
          }
        ],
        "params": {
          "text": "unmapped action_kind in source: incubate"
        },
        "annotations": {}
      },
      {
        "id": "s9",
        "op": "manipulate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s8_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s9_organoids"
          }
        ],
        "params": {
          "action_kind": "mix",
          "repetitions": 3,
          "duration": "5 s",
          "tool": "vortex mixer"
        },
        "annotations": {}
      },
      {
        "id": "s10",
        "op": "annotate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s9_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s10_organoids"
          }
        ],
        "params": {
          "text": "unmapped action_kind in source: incubate"
        },
        "annotations": {}
      },
      {
        "id": "s11",
        "op": "annotate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s10_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s11_organoids"
          }
        ],
        "params": {
          "text": "unmapped action_kind in source: snap_freeze"
        },
        "annotations": {
          "note": "store at −80 °C overnight"
        }
      },
      {
        "id": "s12",
        "op": "annotate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s11_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s12_organoids"
          }
        ],
        "params": {
          "text": "unmapped action_kind in source: thaw"
        },
        "annotations": {}
      },
      {
        "id": "s13",
        "op": "manipulate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s12_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s13_organoids"
          }
        ],
        "params": {
          "action_kind": "mix",
          "repetitions": 1,
          "duration": "5 s",
          "tool": "vortex mixer"
        },
        "annotations": {
          "note": "vortex the tube times for 5 s — unclear number of repetitions"
        }
      },
      {
        "id": "s14",
        "op": "manipulate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s13_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s14_organoids"
          }
        ],
        "params": {
          "action_kind": "resuspend",
          "tool": "200 µl filtered RNase-free micropipette tip"
        },
        "annotations": {
          "note": "pipette remaining cell clumps up and down for complete dissociation"
        }
      },
      {
        "id": "s15",
        "op": "annotate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s14_organoids"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s15_rna"
          }
        ],
        "params": {},
        "annotations": {
          "note": "Perform phenol/chloroform extraction to separate nucleic acids from lipids and proteins. Extract RNA with a commercially available RNA extraction kit."
        }
      },
      {
        "id": "s16",
        "op": "annotate",
        "inputs": [
          {
            "kind": "sample",
            "id": "s15_rna"
          }
        ],
        "outputs": [
          {
            "kind": "sample",
            "id": "s16_cdna"
          }
        ],
        "params": {},
        "annotations": {
          "note": "Use 2 µg of total RNA to subselect poly(A)+ transcripts and generate strand-specific cDNA libraries."
        }
      },
      {
        "id": "s17",
        "op": "run_device",
        "inputs": [
          {
            "kind": "sample",
            "id": "s16_cdna"
          }
        ],
        "outputs": [
          {
            "kind": "data",
            "id": "s17_sequencing_data"
          }
        ],
        "params": {
          "device_kind": "amplicon_readout_system",
          "program": "sequencing",
          "parameters": {
            "read_length": "75 bp",
            "read_pairs": "~50 million",
            "platform": "HiSeq4000",
            "vendor": "Illumina"
          }
        },
        "annotations": {}
      },
      {
        "id": "s18",
        "op": "observe",
        "inputs": [
          {
            "kind": "data",
            "id": "s17_sequencing_data"
          }
        ],
        "outputs": [
          {
            "kind": "data",
            "id": "s18_quality_control"
          }
        ],
        "params": {
          "modality": "instrument_readout",
          "features": [
            "sequencing quality",
            "read mapping"
          ]
        },
        "annotations": {
          "note": "Assess data sequencing quality with FastQC and map paired-end sequencing reads with STAR aligner to Hg19 human reference assembly and quantified with featureCounts."
        }
      },
      {
        "id": "s19",
        "op": "annotate",
        "inputs": [
          {
            "kind": "data",
            "id": "s18_quality_control"
          }
        ],
        "outputs": [
          {
            "kind": "data",
            "id": "s19_normalized_counts"
          }
        ],
        "params": {},
        "annotations": {
          "note": "Normalize raw read counts with the RUVSeq package in R to remove unwanted variation based on replicate samples (RUVs)."
        }
      },
      {
        "id": "s20",
        "op": "annotate",
        "inputs": [
          {
            "kind": "data",
            "id": "s19_normalized_counts"
          }
        ],
        "outputs": [
          {
            "kind": "data",
            "id": "s20_dge_results"
          }
        ],
        "params": {},
        "annotations": {
          "note": "Analyze changes in differential gene expression (DGE) with the DESeq2 package. The list of 3,923 significantly DGE genes (log2FC ±1.5 and padj ≤0.05 cutoff) is subjected to affinity propagation clustering based on similarity matrix, with the APcluster package."
        }
      },
      {
        "id": "s21",
        "op": "annotate",
        "inputs": [
          {
            "kind": "data",
            "id": "s20_dge_results"
          }
        ],
        "outputs": [],
        "params": {},
        "annotations": {
          "note": "Generate a dendrogram with clusters, cutoff and superclusters, and use these for Gene Ontology term search analysis with clusterProfiler. Classify significant DGE genes in superclusters and subject them to gene set enrichment analysis with gene set enrichment analysis (GSEA) (v3.0) using C5 collection of Gene Ontology gene sets from the Molecular Signatures Database."
        }
      }
    ],
    "start_step_id": "s1",
    "edges": [
      {
        "from": "s1",
        "to": "s2"
      },
      {
        "from": "s2",
        "to": "s3"
      },
      {
        "from": "s3",
        "to": "s4"
      },
      {
        "from": "s4",
        "to": "s5"
      },
      {
        "from": "s5",
        "to": "s6"
      },
      {
        "from": "s6",
        "to": "s7"
      },
      {
        "from": "s7",
        "to": "s8"
      },
      {
        "from": "s8",
        "to": "s9"
      },
      {
        "from": "s9",
        "to": "s10"
      },
      {
        "from": "s10",
        "to": "s11"
      },
      {
        "from": "s11",
        "to": "s12"
      },
      {
        "from": "s12",
        "to": "s13"
      },
      {
        "from": "s13",
        "to": "s14"
      },
      {
        "from": "s14",
        "to": "s15"
      },
      {
        "from": "s15",
        "to": "s16"
      },
      {
        "from": "s16",
        "to": "s17"
      },
      {
        "from": "s17",
        "to": "s18"
      },
      {
        "from": "s18",
        "to": "s19"
      },
      {
        "from": "s19",
        "to": "s20"
      },
      {
        "from": "s20",
        "to": "s21"
      }
    ],
    "detail_level": 0
  }
}